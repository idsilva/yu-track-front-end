(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{26:function(e,t,n){e.exports=n(69)},31:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),s=n.n(i),o=(n(31),n(2)),l=n(3),c=n(5),d=n(4),u=n(8),p=n.n(u),h=n(11),g=n.n(h),m=(n(9),function e(){Object(o.a)(this,e)});m.getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_2"===e[t].types[0])return e[t].long_name},m.getArea=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var n=0;n<e[t].types.length;n++)if("sublocality_level_1"===e[t].types[n]||"locality"===e[t].types[n])return e[t].long_name},m.getState=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)if(e[n].types[0]&&"administrative_area_level_1"===e[n].types[0])return e[n].long_name},g.a.setApiKey("AIzaSyCZEAaPR-yVMJZ9iAU-FPm67zLO3Ei_iNg"),g.a.enableDebug();var f=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).blurHandler=function(e){var t=e.target,n=a.props,r=n.address,i=n.handlerBlur;r.name=t.value,i(r)},a.handleCheckBoxClick=function(e){var t=e.target,n=a.props,r=n.address;(0,n.handlerCheckboxChanged)(t.checked,r)},a.goClick=function(e){e.target;var t=a.props,n=t.address;(0,t.handleGoClick)(n)},a.state={address:"",city:"",area:"",state:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.address;g.a.fromLatLng(t.coords[0],t.coords[1]).then((function(t){var n=t.results[0].formatted_address,a=t.results[0].address_components,r=m.getCity(a),i=m.getArea(a),s=m.getState(a);e.setState({fullAddress:n||"",area:i||"",city:r||"",state:s||""})}),(function(e){console.error(e)}))}},{key:"render",value:function(){var e=this.props.address;return r.a.createElement("div",{id:e._id},r.a.createElement("input",{type:"checkbox",inline:"true",onChange:this.handleCheckBoxClick}),r.a.createElement("input",{placeholder:"Lugar",defaultValue:e.name,onChange:this.changeHandler,onBlur:this.blurHandler}),r.a.createElement("input",{placeholder:"Direcci\xf3n",defaultValue:this.state.fullAddress}),r.a.createElement("input",{type:"button",inline:"true",onClick:this.goClick,value:"go"}))}}]),n}(a.Component),v=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handlerSubmit=function(e){var t=a.state.deleteList,n=a.props.deleteAddressList;e.preventDefault(),t.length>0&&n(t)},a.updateAddress=function(e){(0,a.props.updateAddress)(e)},a.goFunction=function(e){(0,a.props.handlerGoFunction)(e)},a.handlerCheckbox=function(e,t){var n=a.state.deleteList;if(e){n.find((function(e){return e._id===t._id}))||(n.push(t),a.setState({deleteList:n}))}else{var r=n.findIndex((function(e){return e._id===t._id}));r>=0&&(n.splice(r,1),a.setState({deleteList:n}))}},a.componentWillReceiveProps=function(e){a.setState({addressList:e.addressList})},a.state={addressList:[],deleteList:[]},a}return Object(l.a)(n,[{key:"displayAddressList",value:function(){var e=this;return this.state.addressList.length>0?this.state.addressList.map((function(t,n){return r.a.createElement(f,{key:t._id,handleGoClick:e.goFunction,handlerCheckboxChanged:e.handlerCheckbox,handlerBlur:e.updateAddress,address:t})})):r.a.createElement("p",null,"No tienes direcciones guardadas")}},{key:"render",value:function(){var e=this.props.style;return r.a.createElement("div",{style:e},r.a.createElement("label",null,"Mis Direcciones",r.a.createElement("br",null)),r.a.createElement("div",{style:{textAlign:"left",width:"20%"}},r.a.createElement("input",{type:"submit",value:"X",onClick:this.handlerSubmit})),r.a.createElement("div",{className:"container"},this.displayAddressList()))}}]),n}(a.Component),y=n(12),k=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handlerClick=function(e){e.target;var t=a.state.address;t.name&&t.name.length>0&&(0,a.props.handlerClick)(t)},a.changeHandler=function(e){var t=e.target,n=a.state.address;n.name=t.value,a.setState({address:n})},a.state={address:{}},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.style;return r.a.createElement("div",{style:e},r.a.createElement("label",null,"Guarda tu direcci\xf3n\xa0\xa0\xa0\xa0"),r.a.createElement("input",{placeholder:"Mi Dreccion",onChange:this.changeHandler}),r.a.createElement("input",{inline:"true",type:"button",value:"guardar",onClick:this.handlerClick}))}}]),n}(a.Component),b=n(24),C=n.n(b),A=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).saveNewAddress=function(e){var t=a.state.displayedMarker;t&&(e.coords=[t.position.lat,t.position.lng],(0,a.props.createAddress)(e))},a.handlerClick=function(e,t,n){console.log(e,t);var r={name:"",position:{lat:n.latLng.lat(),lng:n.latLng.lng()}},i={name:"",position:{lat:n.latLng.lat(),lng:n.latLng.lng()}};a.setState({selectedPosition:r,displayedMarker:i})},a.onMarkerClick=function(e,t,n){console.log(e,t,n),a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.componentWillReceiveProps=function(e){a.setState({displayedMarker:e.displayedMarker,centerPoint:e.centerPoint})},a.displayMarkers=function(){var e=a.state,t=e.displayedMarker;e.activeMarker,e.showingInfoWindow,e.selectedPlace;return r.a.createElement(y.Marker,{position:t.position,name:t.name,onClick:a.onMarkerClick})},a.onPlaceSelected=function(e){var t=e.formatted_address,n=e.address_components,r=m.getCity(n),i=m.getArea(n),s=m.getState(n),o=e.geometry.location.lat(),l=e.geometry.location.lng();a.setState({address:t||"",area:i||"",city:r||"",state:s||"",displayedMarker:{name:r||"",position:{lat:o,lng:l}},centerPoint:{name:r||"",position:{lat:o,lng:l}}})},a.state={displayedMarker:{},centerPoint:e.centerPoint,selectedPlace:{},showingInfoWindow:!1},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.centerPoint;return r.a.createElement("div",{id:"mapBox"},r.a.createElement(y.Map,{google:this.props.google,onClick:this.handlerClick,center:e.position,zoom:12,style:{height:"500px",width:"500px"},initialCenter:e.position},r.a.createElement(C.a,{style:{width:"500px",height:"40px"},onPlaceSelected:this.onPlaceSelected,types:["address"]}),this.displayMarkers()),r.a.createElement("div",null,r.a.createElement(k,{handlerClick:this.saveNewAddress})))}}]),n}(a.Component),L=Object(y.GoogleApiWrapper)({apiKey:"AIzaSyCZEAaPR-yVMJZ9iAU-FPm67zLO3Ei_iNg"})(A),E=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).URI="http://yu-track-backend.us-east-1.elasticbeanstalk.com/location",a.setDisplayedMarker=function(e){a.setState({displayedMarker:{name:e.name,position:{lat:e.coords[0],lng:e.coords[1]}},centerLocation:{name:e.name,position:{lat:e.coords[0],lng:e.coords[1]}}})},a.createAddress=function(e){console.log(e),p.a.post(a.URI,e).then((function(e){a.getAddressList()}))},a.updateAddress=function(e){p.a.put(a.URI+"/".concat(e._id),e).then((function(e){a.getAddressList()}))},a.getAddressList=function(){p.a.get(a.URI).then((function(e){a.setState({addressList:e.data})}))},a.deleteAddressList=function(e){var t=a.getDeleteRequest(e);p.a.all(t).then((function(e){a.getAddressList()})).catch((function(e){console.log(e)}))},a.getDeleteRequest=function(e){return e.map((function(e){return p.a.delete(a.URI+"/".concat(e._id))}))},a.state={displayedMarker:{},addressList:[],centerLocation:{}},a.getAddressList(),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({displayedMarker:{name:"Here I am!",position:{lat:t.coords.latitude,lng:t.coords.longitude}},centerLocation:{name:"Here I am!",position:{lat:t.coords.latitude,lng:t.coords.longitude}}})}))}},{key:"render",value:function(){var e=this.state,t=e.displayedMarker,n=e.addressList,a=e.centerLocation;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"item"},r.a.createElement(L,{displayedMarker:t,style:{position:"relative",height:"100%",width:"50%"},centerPoint:a,createAddress:this.createAddress}),r.a.createElement("div",null,"\xa0")),r.a.createElement("div",{className:"item"},r.a.createElement("div",null,r.a.createElement(v,{style:{width:"50",height:"100%",textAlign:"center"},addressList:n,handlerGoFunction:this.setDisplayedMarker,deleteAddressList:this.deleteAddressList,updateAddress:this.updateAddress}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){}},[[26,1,2]]]);
//# sourceMappingURL=main.1ccb8914.chunk.js.map